{% extends 'layouts/bulma-ufs.layout.njk' %}

{% set navType = 'admin' %}
{% set createOpportunityError = createOpportunityError if createOpportunityError %}
{% set createOpportunityErrorMessage = createOpportunityErrorMessage if createOpportunityErrorMessage %}
{% set opportunityName = opportunityName if opportunityName %}
{% set createOpportunityErrorMessageInputLevel = createOpportunityErrorMessageInputLevel if createOpportunityErrorMessageInputLevel %}
{% set isAdminUser = true %}

{% set pageTitle = 'Journey configuration ' + GLOBAL_TAG_TITLE_SUFFIX %}

{% block content %}

    {% call components.bulmaRow() %}
        {% call components.bulmaColumnAny(size='is-two-thirds') %}
            {{ components.backLink(text=BACK_TO_OPPORTUNITY_DASHBOARD_LINK, url='/prototypes/opportunity-v3/') }}
        {%- endcall %}
    {%- endcall %}

    {% call components.bulmaRow() %}
        {% call components.bulmaColumnAny(size='is-two-thirds') %}

            {{ components.captionHeading(text='Journey configuration') }}

        {%- endcall %}

    {%- endcall %}

    {% call components.bulmaRow() %}
        {% call components.bulmaColumnAny(size='is-two-thirds') %}

            {% call components.form(action='/prototypes/opportunity-v3/config', method='POST',name='createOpportunity') %}

                <div class="govuk-form-group ">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
                            <h2 class="govuk-fieldset__heading">How do you want uses to submit their forms?</h2>
                        </legend>
                        <p class="govuk-hint">Both methods will clear session and take you back to the start of the create opportunity journey</p>
                        <div class="govuk-radios">
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="existingSaveMethod" name="completeConfig" type="radio" value="existingSaveMethod" checked>
                                <label class="govuk-label govuk-radios__label" for="existingSaveMethod">Use the existing method</label>
                            </div>
                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="newSaveMethod" name="completeConfig" type="radio" value="newSaveMethod">
                                <label class="govuk-label govuk-radios__label" for="newSaveMethod">Use the secondary CTA "Save as draft" in place of "Mark as complete"</label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                {% call components.formGroup() %}

                    {{ components.button(text=CREATE_NEW_OPPORTUNITY_FORM_CTA, extraClass="application-controls__submit")}}

                {%- endcall %}


            {%- endcall %}

        {%- endcall %}

    {%- endcall %}

{% endblock %}
